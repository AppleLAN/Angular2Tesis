<sm-modal title="Producto" class="fluid stock-modal" #stockModal>
  <modal-content>
    <form class="ui form" [formGroup]="productForm" name="Form">
      <div class="ui left aligned basic segment">
        <div class="form-group field">
          <sm-input type="text" label="Nombre" [control]="productForm.controls.name" placeholder="Ingresar Nombre"> </sm-input>
          <app-input-error-messages [control]="productForm.controls.name"></app-input-error-messages>
        </div>

        <div class="form-group field">
          <sm-input type="text" label="Descripcion" [control]="productForm.controls.description" placeholder="Ingresar Descripcion">
          </sm-input>
          <app-input-error-messages [control]="productForm.controls.description"></app-input-error-messages>
        </div>
        <div class="form-group field">
          <sm-select
            class="fluid search inverted"
            label="Proveedor"
            [(model)]="providerId"
            (onChange)="onChangeProvider($event)"
            placeholder="Ingresar Proveedor"
          >
            <option *ngFor="let provider of providers" value="{{ provider.id }}">{{ provider.name }}</option>
          </sm-select>
        </div>
        <div class="form-group field">
          <sm-input type="number" label="Precio a costo" [control]="productForm.controls.cost_price" placeholder="Ingresar Costo Minimo">
          </sm-input>
          <app-input-error-messages [control]="productForm.controls.cost_price"></app-input-error-messages>
        </div>

        <div class="form-group field">
          <sm-input
            type="number"
            label="Precio a la venta"
            [control]="productForm.controls.sale_price"
            placeholder="Ingresar Precio a la venta"
          >
          </sm-input>
          <app-input-error-messages [control]="productForm.controls.sale_price"></app-input-error-messages>
        </div>

        <div class="form-group field">
          <sm-input type="text" label="Id de Categoria" [control]="productForm.controls.category_id" placeholder="Ingresar id de categoria">
          </sm-input>
          <app-input-error-messages [control]="productForm.controls.category_id"></app-input-error-messages>
        </div>

        <div class="form-group field">
          <sm-input
            type="text"
            label="Ingresar código de identificacion"
            [control]="productForm.controls.code"
            placeholder="Ingresar código de identificacion"
          >
          </sm-input>
          <app-input-error-messages [control]="productForm.controls.code"></app-input-error-messages>
        </div>
      </div>

      <modal-actions>
        <div fxLayout="column" fxLayoutGap="15px">
          <div fxLayout="row" fxLayoutAlign.xs="center center" fxLayoutGap="15px">
            <button class="ui button tiny" (click)="addProducts(productForm)" [disabled]="productForm.invalid" *ngIf="isNew(productForm)">
              Agregar Producto
            </button>
            <button
              class="ui button tiny"
              (click)="updateProducts(productForm)"
              [disabled]="productForm.invalid"
              *ngIf="!isNew(productForm)"
            >
              Actualizar Datos
            </button>
            <button class="ui button tiny" (click)="deleteProducts(productForm)" *ngIf="!isNew(productForm)">Borrar Producto</button>
          </div>
          <div fxLayout="row" fxLayoutAlign="end center">
            <button fxFlex="20" fxFlex.xs="100" class="ui button tiny" (click)="stockModal.hide()">Cancelar</button>
          </div>
        </div>
      </modal-actions>
    </form>
  </modal-content>
</sm-modal>
<modal-actions> <simple-notifications *ngIf="options" [options]="options"></simple-notifications> </modal-actions>
