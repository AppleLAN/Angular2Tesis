<div class="grid"> 
    <button class="ui button" (click)="myModalNormal.show({blurred: true}); openNewClientModal()">Agregar Nuevo Cliente</button>
    <table class="ui celled striped inverted table">
        <thead>
            <tr>
                <th>Nombre</th>
                <th>E-Mail</th>
                <th>Localidad</th>
                <th>Telefono</th>
                <th>C.U.I.T</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let client of clientStorage | async; let i = index;">
                <td><span class="name" (click)="myModalNormal.show({blurred: true}); changeInformation(client)">{{client.name}}</span></td>
                <td>{{client.email}}</td>
                <td>{{client.place}}</td>
                <td>{{client.telephone}}</td>
                <td>{{client.cuit}}</td>
            </tr>
        </tbody>
    </table>
    <sm-modal title="Hello from Modal" class="fluid" icon="home" #myModalNormal>
        <modal-content>
            <form class="ui form" [formGroup]="clientForm" name="Form">
                <sm-loader [complete]="!formSubmited" class="inverted" text="Loading..."></sm-loader>
                <div class="ui left aligned basic segment">
                    <div class="form-group field">
                        <sm-input type="text" label="Nombre" [control]="clientForm.controls.name" placeholder="Ingresar Nombre"></sm-input>
                        <div class="has-error" *ngIf="clientForm.get('name').hasError('required') && clientForm.get('name').touched">
                        Nombre no ingresado
                        </div>
                        <div class="has-error" *ngIf="clientForm.get('name').hasError('minlength') && clientForm.get('name').touched">
                        Minimo 6 caracteres
                        </div>
                        <div class="has-error" *ngIf="clientForm.get('name').hasError('maxlength') && clientForm.get('name').touched">
                        Maximo 30 caracteres
                        </div>
                    </div>

                    <div class="form-group field">
                        <sm-input type="text" label="Nombre De Fantasia" [control]="clientForm.controls.fantasyName" placeholder="Ingresar nombre de fantasia"></sm-input>
                        <div class="has-error" *ngIf="clientForm.get('fantasyName').hasError('required') && clientForm.get('fantasyName').touched">
                        Nombre de fantasia no ingresado
                        </div>
                        <div class="has-error" *ngIf="clientForm.get('fantasyName').hasError('maxlength') && clientForm.get('fantasyName').touched">
                        Maximo 30 caracteres
                        </div>
                    </div>

                    <div class="form-group field">
                        <sm-input type="email" label="E-mail" [control]="clientForm.controls.email" placeholder="Ingresar E-mail"></sm-input>
                        <div class="has-error" *ngIf="clientForm.get('email').hasError('required') && clientForm.get('email').touched">
                        E-mail no ingresado
                        </div>
                        <div class="has-error" *ngIf="clientForm.get('email').hasError('minlength') && clientForm.get('email').touched">
                        Minimo 6 caracteres
                        </div>
                        <div class="has-error" *ngIf="clientForm.get('email').hasError('maxlength') && clientForm.get('email').touched">
                        Maximo 30 caracteres
                        </div>
                    </div>

                    <div class="form-group field">
                        <sm-input type="text" label="Localidad" [control]="clientForm.controls.place" placeholder="Ingresar Localidad"></sm-input>
                        <div class="has-error" *ngIf="clientForm.get('place').hasError('required') && clientForm.get('place').touched">
                        Lugar no ingresado
                        </div>
                        <div class="has-error" *ngIf="clientForm.get('place').hasError('minlength') && clientForm.get('place').touched">
                        Minimo 6 caracteres
                        </div>
                        <div class="has-error" *ngIf="clientForm.get('place').hasError('maxlength') && clientForm.get('place').touched">
                        Maximo 30 caracteres
                        </div>
                    </div>

                    <div class="form-group field">
                        <sm-input type="text" label="Direccion" [control]="clientForm.controls.address" addressholder="Ingresar Direccion"></sm-input>
                        <div class="has-error" *ngIf="clientForm.get('address').hasError('required') && clientForm.get('address').touched">
                        Direccion no ingresada
                        </div>
                        <div class="has-error" *ngIf="clientForm.get('address').hasError('minlength') && clientForm.get('address').touched">
                        Minimo 6 caracteres
                        </div>
                        <div class="has-error" *ngIf="clientForm.get('address').hasError('maxlength') && clientForm.get('address').touched">
                        Maximo 30 caracteres
                        </div>
                    </div>

                    <div class="form-group field">
                        <sm-input type="text" label="Telefono" [control]="clientForm.controls.telephone" placeholder="Ingresar Telefono"></sm-input>
                        <div class="has-error" *ngIf="clientForm.get('telephone').hasError('required') && clientForm.get('telephone').touched">
                        Telefono no ingresado
                        </div>
                        <div class="has-error" *ngIf="clientForm.get('telephone').hasError('minlength') && clientForm.get('telephone').touched">
                        9 caracteres
                        </div>
                        <div class="has-error" *ngIf="clientForm.get('telephone').hasError('maxlength') && clientForm.get('telephone').touched">
                        9 caracteres
                        </div>
                    </div>

                    <div class="form-group field">
                        <sm-input type="text" label="C.U.I.T" [control]="clientForm.controls.cuit" placeholder="Ingresar C.U.I.T"></sm-input>
                        <div class="has-error" *ngIf="clientForm.get('cuit').hasError('required') && clientForm.get('cuit').touched">
                        C.U.I.T no ingresado
                        </div>
                        <div class="has-error" *ngIf="clientForm.get('cuit').hasError('minlength') && clientForm.get('cuit').touched">
                        11 caracteres
                        </div>
                        <div class="has-error" *ngIf="clientForm.get('cuit').hasError('maxlength') && clientForm.get('cuit').touched">
                        11 caracteres
                        </div>
                    </div>

                    <div class="form-group field">
                        <sm-input type="text" label="Pagina Web" [control]="clientForm.controls.web" placeholder="Ingresar Pagina Web"></sm-input>
                        <div class="has-error" *ngIf="clientForm.get('web').hasError('minlength') && clientForm.get('web').touched">
                        Minimo 6 caracteres
                        </div>
                        <div class="has-error" *ngIf="clientForm.get('web').hasError('maxlength') && clientForm.get('web').touched">
                        Maximo 30 caracteres
                        </div>
                    </div>
                </div>
                <modal-actions>
                    <div class="field text-center">
                        <div class="two fields">
                            <div class="field">
                                <button class="ui button" (click)="addClient(clientForm)" [disabled]="clientForm.invalid" *ngIf="isNew(clientForm)">Agregar Cliente</button>
                                <button class="ui button" (click)="updateClient(clientForm)" [disabled]="clientForm.invalid" *ngIf="!isNew(clientForm)">Actualizar Datos</button>
                                <button class="ui button" (click)="deleteClient(clientForm)" *ngIf="!isNew(clientForm)">Borrar Cliente</button>
                            </div>
                            <div class="field">
                                <button class="ui right floated button" (click)="myModalNormal.hide()">Close modal</button>
                            </div>
                        </div>
                    </div>
                </modal-actions>
            </form>
        </modal-content>
    </sm-modal>
</div>
